# üìÑ –§–∞–π–ª: technical_logic.md

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
- **–Ø–∑—ã–∫**: Python 3.11+  
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Flask (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)  
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫)  
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**:  
  - Outlook —á–µ—Ä–µ–∑ `exchangelib`  
  - Telegram —á–µ—Ä–µ–∑ `requests` (Bot API)  
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**: APScheduler (—Ñ–æ–Ω–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—á—Ç—ã –∏ –∑–∞–¥–µ—Ä–∂–µ–∫)  

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞  
```
project/
 ‚îú‚îÄ‚îÄ app.py            # Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –º–∞—Ä—à—Ä—É—Ç—ã
 ‚îú‚îÄ‚îÄ database.py       # –†–∞–±–æ—Ç–∞ —Å SQLite
 ‚îú‚îÄ‚îÄ mail_checker.py   # –ü—Ä–æ–≤–µ—Ä–∫–∞ Outlook –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
 ‚îú‚îÄ‚îÄ notifier.py       # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
 ‚îú‚îÄ‚îÄ scheduler.py      # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
 ‚îú‚îÄ‚îÄ config.py         # –¢–æ–∫–µ–Ω—ã, –ø–∞—Ä–æ–ª–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
 ‚îú‚îÄ‚îÄ templates/        # HTML-—à–∞–±–ª–æ–Ω—ã (—Ñ–æ—Ä–º–∞ + —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫)
 ‚îî‚îÄ‚îÄ README.md         # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
```  

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏  

### 1. database.py  
- –§—É–Ω–∫—Ü–∏–∏:  
  - `init_db()` ‚Äî —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –∑–∞—è–≤–æ–∫, –µ—Å–ª–∏ –Ω–µ—Ç.  
  - `add_request()` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É.  
  - `update_status()` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏.  
  - `get_requests()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫.  

### 2. app.py  
- –ú–∞—Ä—à—Ä—É—Ç—ã:  
  - `GET /` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.  
  - `GET /requests` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ (—Ç–∞–±–ª–∏—Ü–∞).  
  - `GET /new` ‚Äî —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏.  
  - `POST /add_request` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã.  
- HTML-—à–∞–±–ª–æ–Ω—ã: –ø—Ä–æ—Å—Ç—ã–µ, –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.  

### 3. mail_checker.py  
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Outlook (exchangelib).  
- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –ø–∏—Å–µ–º.  
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∑–∞—è–≤–∫–∏ (—Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ).  
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ (–ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º).  
- –í—ã–∑–æ–≤ `update_status()` –∏–∑ database.  

### 4. notifier.py  
- –§—É–Ω–∫—Ü–∏—è `send_message(text)` ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram.  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—è–≤–æ–∫: –µ—Å–ª–∏ `status_update` > 60 –º–∏–Ω ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.  

### 5. scheduler.py  
- –ó–∞–ø—É—Å–∫ APScheduler.  
- –ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç:  
  - `check_mail()` (mail_checker).  
  - `check_for_delays()` (notifier).  

---

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (config.py)  
- –î–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è:  
  - EMAIL/–ø–∞—Ä–æ–ª—å –¥–ª—è Outlook.  
  - TELEGRAM_TOKEN.  
  - CHAT_ID (–∫—É–¥–∞ —Å–ª–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è).  
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å –∏—Ö –≤ –∫–æ–¥–µ.  

---

## üß© –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏  
1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `logging` (INFO –∏ ERROR).  
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `try/except` –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Ö (–ø–æ—á—Ç–∞, Telegram).  
3. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–Ω–∞–±–∂–∞—Ç—å docstring.  
4. –ü–µ—Ä–µ–¥ SQL-–∑–∞–ø—Ä–æ—Å–∞–º–∏ ‚Äî –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥.  
5. –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ –ø–∏—Å—å–º–∞ –∏ —Ç–µ—Å—Ç–æ–≤—ã–π —á–∞—Ç.  

---

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å MVP  
- Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞—è–≤–∫–∏.  
- Mail checker –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –ø–æ –ø–∏—Å—å–º–∞–º.  
- Telegram-–±–æ—Ç —Å–æ–æ–±—â–∞–µ—Ç –æ –∑–∞–¥–µ—Ä–∂–∫–∞—Ö.  
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.  
